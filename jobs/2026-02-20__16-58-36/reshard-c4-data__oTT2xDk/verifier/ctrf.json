{
    "results": {
        "tool": {
            "name": "pytest",
            "version": "8.4.1"
        },
        "summary": {
            "tests": 1,
            "passed": 0,
            "failed": 1,
            "skipped": 0,
            "pending": 0,
            "other": 0,
            "start": 1771603818.649869,
            "stop": 1771604285.2619953
        },
        "tests": [
            {
                "name": "test_outputs.py::test_compress_decompress_workflow",
                "status": "failed",
                "raw_status": "call_failed",
                "duration": 445.4962793290033,
                "start": 1771603838.6656625,
                "stop": 1771604285.2450647,
                "retries": 0,
                "file_path": "test_outputs.py",
                "trace": "generate_test_data = {'c4-mini-00000-of-10000.jsonl': '755f90ce91ae322c2643712308e12d120ca079180bf0d5180accfe7342ec2ee3', 'c4-mini-00001-of...3db97db8f138', 'c4-mini-00003-of-10000.jsonl': 'a7e4c98cecbca03fe6bcb719cfa252c6629c613863058da907cda1311f53342b', ...}\n\n    def test_compress_decompress_workflow(generate_test_data):\n        \"\"\"Test the full compress -> decompress workflow is successful.\"\"\"\n        original_hashes = generate_test_data\n    \n        # Part 1: Test compression\n        # Clean up output directory\n        if os.path.exists(TEST_OUTPUT_DIR):\n            shutil.rmtree(TEST_OUTPUT_DIR)\n    \n        # Install dependencies first to avoid snapshot contamination\n        print(\"Installing dependencies with uv sync...\")\n        sync_result = subprocess.run([\"uv\", \"sync\"], capture_output=True, text=True)\n        if sync_result.returncode != 0:\n            print(f\"uv sync failed: {sync_result.stderr}\")\n    \n        # Run the compress script\n        try:\n            print(\n                f\"Running compress script: {COMPRESS_SCRIPT} \"\n                f\"{TEST_INPUT_DIR} {TEST_OUTPUT_DIR}\"\n            )\n            result = subprocess.run(\n                [\"uv\", \"run\", COMPRESS_SCRIPT, TEST_INPUT_DIR, TEST_OUTPUT_DIR],\n                timeout=600,\n                capture_output=True,\n                text=True,\n            )\n            if result.returncode != 0:\n                print(f\"Compress script failed with return code {result.returncode}\")\n                print(f\"stdout: {result.stdout}\")\n                print(f\"stderr: {result.stderr}\")\n                assert False, f\"Compress script failed: {result.stderr}\"\n        except subprocess.TimeoutExpired:\n            assert False, \"The compress script timed out!\"\n    \n        # Verify output directory exists\n        assert os.path.exists(TEST_OUTPUT_DIR), \"Output directory was not created\"\n    \n        # Check that the maximum file size in TEST_OUTPUT_DIR is MAX_SIZE_PER_FILE\n        for root, dirs, files in os.walk(TEST_OUTPUT_DIR):\n            for file in files:\n                file_path = os.path.join(root, file)\n                file_size = os.path.getsize(file_path)\n                assert file_size <= MAX_SIZE_PER_FILE, (\n                    f\"File {file_path} is {file_size} bytes, exceeds {MAX_SIZE_PER_FILE}\"\n                )\n    \n            # Check that the number of files+folders in each directory is less than\n            # MAX_FILES_PER_FOLDER\n            total_items = len(files) + len(dirs)\n>           assert total_items <= MAX_FILES_PER_FOLDER, (\n                f\"Directory {root} has {total_items} items, exceeds {MAX_FILES_PER_FOLDER}\"\n            )\nE           AssertionError: Directory /app/c4_test_606380c7-b750-4e21-a8af-f8df9ca9b03b/__reshard_shards__/d06 has 60 items, exceeds 30\nE           assert 60 <= 30\n\n/tests/test_outputs.py:135: AssertionError",
                "message": "The test failed in the call phase due to an assertion error"
            }
        ]
    }
}