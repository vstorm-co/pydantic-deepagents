diff --git a/django/db/models/sql/subqueries.py b/django/db/models/sql/subqueries.py
index 04063f73bc..d416d467c4 100644
--- a/django/db/models/sql/subqueries.py
+++ b/django/db/models/sql/subqueries.py
@@ -55,6 +55,14 @@ class UpdateQuery(Query):
         self._setup_query()
 
     def _setup_query(self):
+        """
+        Run on initialization and at the end of chaining. Any attributes that
+        would normally be set in __init__() should go here instead.
+        """
+        self.values = []
+        self.related_ids = None
+        self.related_ids_by_model = {}
+        self.related_updates = {}
         """
         Run on initialization and at the end of chaining. Any attributes that
         would normally be set in __init__() should go here instead.
@@ -64,6 +72,10 @@ class UpdateQuery(Query):
         self.related_updates = {}
 
     def clone(self):
+        obj = super().clone()
+        obj.related_updates = self.related_updates.copy()
+        obj.related_ids_by_model = self.related_ids_by_model.copy()
+        return obj
         obj = super().clone()
         obj.related_updates = self.related_updates.copy()
         return obj
@@ -122,6 +134,26 @@ class UpdateQuery(Query):
         self.related_updates.setdefault(model, []).append((field, None, value))
 
     def get_related_updates(self):
+        """
+        Return a list of query objects: one for each update required to an
+        ancestor model. Each query will have the same filtering conditions as
+        the current query but will only update a single table.
+        """
+        if not self.related_updates:
+            return []
+        result = []
+        for model, values in self.related_updates.items():
+            query = UpdateQuery(model)
+            query.values = values
+            if self.related_ids is not None:
+                # Use model-specific IDs if available, otherwise fall back to
+                # the main related_ids (for backward compatibility)
+                if model in self.related_ids_by_model:
+                    query.add_filter("pk__in", self.related_ids_by_model[model])
+                else:
+                    query.add_filter("pk__in", self.related_ids)
+            result.append(query)
+        return result
         """
         Return a list of query objects: one for each update required to an
         ancestor model. Each query will have the same filtering conditions as