diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 822968ef56..8a486b48bd 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -1299,6 +1299,10 @@ class When(Expression):
         template_params = extra_context
         sql_params = []
         condition_sql, condition_params = compiler.compile(self.condition)
+        if not condition_sql:
+            # If the condition compiles to an empty string (e.g., ~Q(pk__in=[])),
+            # it means the condition matches everything, so return the result.
+            return compiler.compile(self.result)
         template_params["condition"] = condition_sql
         sql_params.extend(condition_params)
         result_sql, result_params = compiler.compile(self.result)
@@ -1388,6 +1392,10 @@ class Case(SQLiteNumericMixin, Expression):
                 case_sql, case_params = compiler.compile(case)
             except EmptyResultSet:
                 continue
+            # If the case_sql doesn't contain "WHEN", it means the When condition
+            # is always true (e.g., ~Q(pk__in=[])), so return the result directly.
+            if "WHEN" not in case_sql:
+                return case_sql, case_params
             case_parts.append(case_sql)
             sql_params.extend(case_params)
         default_sql, default_params = compiler.compile(self.default)